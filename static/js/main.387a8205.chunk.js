(this.webpackJsonpmoberries=this.webpackJsonpmoberries||[]).push([[0],{104:function(e,t,n){e.exports={_root:"footer__root__ka5l_",_container:"footer__container__2oPJl",_root__text:"footer__root__text__3J08L"}},119:function(e,t,n){"use strict";var r=n(90),a=n.n(r).a.create({headers:{Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Origin":"*"}});t.a=a},120:function(e,t){e.exports={SUBSCRIPTION:{PRICES:"https://cloud-storage-prices-moberries.herokuapp.com/prices",SUBMIT:"https://httpbin.org/post"}}},121:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(31),a=n.n(r),c=n(81),s=n(45),i=n(90),o=n.n(i);function u(e,t){return l.apply(this,arguments)}function l(){return(l=Object(s.a)(a.a.mark((function e(t,n){var r,i=arguments;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=!(i.length>2&&void 0!==i[2])||i[2],e.abrupt("return",new Promise(function(){var e=Object(s.a)(a.a.mark((function e(s,i){var u,l,d,b,p,m;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.apply(void 0,Object(c.a)(n));case 3:return u=e.sent,l=u.data,e.abrupt("return",s(l));case 8:if(e.prev=8,e.t0=e.catch(0),!(r&&o.a.isAxiosError(e.t0)&&e.t0.response)){e.next=14;break}return p="Error "+e.t0.response.status,m=e.t0.response.data.message,e.abrupt("return",Promise.reject({error:p,message:m}));case 14:return p=(null===e.t0||void 0===e.t0||null===(d=e.t0.request)||void 0===d?void 0:d.message)||"Internal Error",m=(null===(b=e.t0.response)||void 0===b?void 0:b.message)||"Unexpected error occured. Please, try again later.",e.abrupt("return",i({error:p,message:m}));case 17:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,n){return e.apply(this,arguments)}}()));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},122:function(e,t,n){e.exports={_root:"title__root__1z06-",_text:"title__text__3iIhg"}},16:function(e,t,n){"use strict";(function(e){n.d(t,"d",(function(){return b})),n.d(t,"s",(function(){return p})),n.d(t,"r",(function(){return _})),n.d(t,"o",(function(){return f})),n.d(t,"q",(function(){return v})),n.d(t,"n",(function(){return O})),n.d(t,"p",(function(){return h})),n.d(t,"m",(function(){return x})),n.d(t,"c",(function(){return g})),n.d(t,"b",(function(){return y})),n.d(t,"g",(function(){return S})),n.d(t,"l",(function(){return N})),n.d(t,"k",(function(){return C})),n.d(t,"i",(function(){return T})),n.d(t,"f",(function(){return E})),n.d(t,"j",(function(){return w})),n.d(t,"e",(function(){return I})),n.d(t,"h",(function(){return P}));var r=n(20),a=n(81),c=n(31),s=n.n(c),i=n(45),o=n(74),u=n(119),l=n(120),d=n(121),b=Object(o.b)("subscriptions/fetchPrices",function(){var t=Object(i.a)(s.a.mark((function t(n,r){var a,c,i,o,b;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=r.rejectWithValue,t.prev=1,t.next=4,Object(d.a)(u.a.get,[l.SUBSCRIPTION.PRICES]);case 4:return c=t.sent,i=c.subscription_plans,t.abrupt("return",i);case 9:return t.prev=9,t.t0=t.catch(1),"development"===(null===(o=e)||void 0===o||null===(b=Object({NODE_ENV:"production",PUBLIC_URL:"/moberries",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}))||void 0===b?void 0:b.NODE_ENV)&&console.log(t.t0),t.abrupt("return",a(t.t0));case 13:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e,n){return t.apply(this,arguments)}}()),p=Object(o.b)("subscriptions/submitSubscription",function(){var t=Object(i.a)(s.a.mark((function t(n,r){var a,c,i,o;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=r.rejectWithValue,t.prev=1,t.next=4,Object(d.a)(u.a.post,[l.SUBSCRIPTION.SUBMIT,n]);case 4:return c=t.sent,t.abrupt("return",c);case 9:return t.prev=9,t.t0=t.catch(1),"development"===(null===(i=e)||void 0===i||null===(o=Object({NODE_ENV:"production",PUBLIC_URL:"/moberries",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}))||void 0===o?void 0:o.NODE_ENV)&&console.log(t.t0),t.abrupt("return",a(t.t0));case 13:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e,n){return t.apply(this,arguments)}}()),m=Object(o.c)({name:"subscriptions",initialState:{subscription_plans:[],tabs:{enabledTabs:["parameters","creditcard"],active:"parameters"},form:{parameters:{duration:12,volume:5,upfront:!1},card:{pan:null,exp:null,cvv:null},confirm:{email:null}},request:{status:"idle",message:null}},reducers:{setSubscriptions:function(e,t){var n=t.payload;e.subscription_plans=n},setLoading:function(e,t){var n=t.payload;e.request.status=n},setError:function(e,t){var n=t.payload;e.request.message={title:null===n||void 0===n?void 0:n.title,description:null===n||void 0===n?void 0:n.description}},setDuration:function(e,t){var n=t.payload;e.form.parameters.duration=n},setVolume:function(e,t){var n=t.payload;e.form.parameters.volume=n},setUpfront:function(e,t){var n=t.payload;e.form.parameters.upfront=n},setCard:function(e,t){var n=t.payload;e.form.card={pan:(null===n||void 0===n?void 0:n.pan)||null,cvv:(null===n||void 0===n?void 0:n.cvv)||null,exp:(null===n||void 0===n?void 0:n.exp)||null}},setEmail:function(e,t){var n=t.payload;e.form.confirm.email=n},setActiveTab:function(e,t){var n=t.payload;e.tabs.active=n},enableTab:function(e,t){var n=t.payload;e.tabs.enabledTabs=[].concat(Object(a.a)(e.tabs.enabledTabs),[n])},disableTab:function(e,t){var n=t.payload;e.tabs.enabledTabs=Object(a.a)(e.tabs.enabledTabs.filter((function(e){return e!==n})))}},extraReducers:{"subscriptions/fetchPrices/pending":function(e){return Object(r.a)(Object(r.a)({},e),{},{request:Object(r.a)(Object(r.a)({},e.request),{},{status:"loading"})})},"subscriptions/fetchPrices/fulfilled":function(e,t){var n=t.payload;return Object(r.a)(Object(r.a)({},e),{},{subscription_plans:n,request:{status:"idle",message:null}})},"subscriptions/fetchPrices/rejected":function(e,t){return Object(r.a)(Object(r.a)({},e),{},{request:{status:"error",message:{title:t.payload.title,description:t.payload.description}}})},"subscriptions/submitSubscription/pending":function(e){return Object(r.a)(Object(r.a)({},e),{},{request:Object(r.a)(Object(r.a)({},e.request),{},{status:"loading"})})},"subscriptions/submitSubscription/fulfilled":function(e){return Object(r.a)(Object(r.a)({},e),{},{request:{status:"idle",message:null}})},"subscriptions/submitSubscription/rejected":function(e,t){var n=t.payload;return Object(r.a)(Object(r.a)({},e),{},{request:{status:"error",message:{title:n.error,description:n.description}}})}}}),j=m.actions,_=(j.setLoading,j.setError,j.setSubscriptions,j.setVolume),f=j.setDuration,v=j.setUpfront,O=j.setCard,h=j.setEmail,x=j.setActiveTab,g=j.enableTab,y=j.disableTab,S=function(e){return e.subscriptions.form.parameters.duration},N=function(e){return e.subscriptions.form.parameters.volume},C=function(e){return e.subscriptions.form.parameters.upfront},T=function(e){return e.subscriptions.form.parameters},E=function(e){return e.subscriptions.form.card},w=function(e){return e.subscriptions.subscription_plans},I=function(e){return e.subscriptions.tabs.active},P=function(e){return e.subscriptions.tabs.enabledTabs};t.a=m.reducer}).call(this,n(107))},342:function(e,t,n){},343:function(e,t,n){},345:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(28),s=n.n(c),i=n(23),o=n(74),u=n(16),l=Object(o.a)({reducer:{subscriptions:u.a}}),d=n(173),b=n(24),p=n.p+"static/media/logo.333d2cc5.svg",m=n(75),j=n.n(m),_=n(6),f=function(){return Object(_.jsx)("header",{className:j.a._root,children:Object(_.jsxs)("div",{className:j.a._container,children:[Object(_.jsx)("div",{className:j.a._root__logo,children:Object(_.jsx)("img",{className:j.a._root__logo__img,src:p,alt:"logo"})}),Object(_.jsx)("h3",{className:j.a._root__company,children:"Moberries"})]})})},v=n(70),O={VOLUMES:[{value:5,label:"5 GB"},{value:10,label:"10 GB"},{value:50,label:"50 GB"}],DURATIONS:[{value:3,label:"3 month"},{value:6,label:"6 month"},{value:12,label:"12 month"}]},h=n(55),x=n.n(h),g=function(){var e,t,n=Object(i.c)(u.j),a=Object(i.c)(u.i),c=Object(r.useState)(0),s=Object(v.a)(c,2),o=s[0],l=s[1];return Object(r.useEffect)((function(){var e,t=((null===(e=n.find((function(e){return e.duration_months===a.duration})))||void 0===e?void 0:e.price_usd_per_gb)||0)*a.volume*(a.upfront?.9:1);l(t)}),[n,a]),Object(_.jsxs)("div",{className:x.a._container,children:[Object(_.jsxs)("p",{className:x.a._text,children:["Volume: ",Object(_.jsx)("span",{className:x.a._text__value,children:null===(e=O.VOLUMES.find((function(e){return e.value===a.volume})))||void 0===e?void 0:e.label})]}),Object(_.jsxs)("p",{className:x.a._text,children:["Duration with month: ",Object(_.jsx)("span",{className:x.a._text__value,children:null===(t=O.DURATIONS.find((function(e){return e.value===a.duration})))||void 0===t?void 0:t.label})]}),Object(_.jsxs)("p",{className:x.a._text,children:["Amount: ",Object(_.jsx)("span",{className:x.a._text__value,children:a.upfront?"$".concat(o*a.duration):"$".concat(o," / per month")}),Object(_.jsx)("span",{children:a.upfront?"  (10% discount applied)":"  (Total: $".concat(o*a.duration,")")})]})]})},y=n(104),S=n.n(y),N=function(){return Object(_.jsxs)("footer",{className:S.a._root,children:[Object(_.jsx)(g,{}),Object(_.jsx)("div",{className:S.a._container,children:Object(_.jsxs)("span",{className:S.a._root__text,children:["Aniverse \xa9 ",(new Date).getFullYear()," Created by Aykhan"]})})]})},C=function(e){var t=e.children;return Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(f,{}),Object(_.jsx)("main",{children:Object(_.jsx)("div",{className:"container",children:t})}),Object(_.jsx)(N,{})]})},T=n(125),E=n.n(T),w=n(20),I=n(177),P=n(122),V=n.n(P),k=["element","size","text","props","children","className"],q=["h1","h2","h3","h4","h5","h6","p","span","a"],D=["sm","md","lg","xl","xxl"],R=function(e){var t=e.element,n=void 0===t?"h1":t,a=e.size,c=void 0===a?"xl":a,s=e.text,i=void 0===s?"":s,o=e.props,u=void 0===o?{}:o,l=e.children,d=e.className,b=void 0===d?"":d,p=Object(I.a)(e,k);if(!q.includes(n))throw new Error("element should be one of: ".concat(q.toString()));if(!D.includes(c))throw new Error("size should be one of: ".concat(D.toString()));return u.className=[V.a._text,u.className].join(" "),u["data-size"]=c,"a"===n&&(u=Object(w.a)({href:"javascript:void(0)"},u)),Object(_.jsxs)("div",Object(w.a)(Object(w.a)({className:[V.a._root,b].join(" ")},p),{},{children:[Object(r.createElement)(n,u,i),l]}))},U=n(172),X=n(347),A=n(349),F=n(350),z=n(174),B=n(50),L=n.n(B),M=function(e){var t=e.label,n=e.selected,r=void 0!==n&&n;return Object(_.jsx)("div",{className:L.a[r?"_volume--selected":"_volume"],children:Object(_.jsx)("span",{className:L.a._volume__value,children:t})})},W=function(){var e=Object(i.b)(),t=O.VOLUMES,n=Object(i.c)(u.l),r=O.DURATIONS,a=Object(i.c)(u.g),c=Object(i.c)(u.k),s={display:"grid",gridTemplateColumns:"minmax(110px, max-content) auto",gap:"10px",marginBottom:"30px"};return Object(_.jsxs)(X.a,{onFinish:function(t){e(Object(u.m)("creditcard"))},children:[Object(_.jsx)(R,{className:L.a._title,text:"Select subscription parameters.",element:"h4",size:"md",style:{margin:"10px 0 20px 20px"}}),Object(_.jsx)(X.a.Item,{label:"Volumes",name:"volume",style:s,children:Object(_.jsx)(A.a.Group,{className:L.a._radio,options:null===t||void 0===t?void 0:t.map((function(e){return{label:Object(_.jsx)(M,{value:e.value,label:e.label,selected:e.value===n}),value:e.value}})),onChange:function(t){var n,r=t.target.value;return n=r,void e(Object(u.r)(+n))},optionType:"button",style:{marginBottom:"10px"}})}),Object(_.jsx)(X.a.Item,{label:"Durations",name:"duration",style:s,children:Object(_.jsx)(A.a.Group,{className:L.a._radio,options:null===r||void 0===r?void 0:r.map((function(e){return{label:Object(_.jsx)(M,{value:e.value,label:e.label,selected:e.value===a}),value:e.value}})),onChange:function(t){var n,r=t.target.value;return n=r,void e(Object(u.o)(+n))},optionType:"button"})}),Object(_.jsx)(X.a.Item,{label:"Upfront payment: ",name:"upfront",initialValue:c,help:"You will get 10% discount for upfront payment.",style:s,children:Object(_.jsx)(F.a,{checkedChildren:"Yes",unCheckedChildren:"No",onChange:function(t){return n=t,e(Object(u.q)(n)),void U.a.info({message:"Discount ".concat(n?"enabled":"disabled",".")});var n},checked:c})}),Object(_.jsx)(X.a.Item,{children:Object(_.jsx)(z.a,{type:"primary",htmlType:"submit",size:"large",style:{width:"100%"},children:"Next"})})]})},H=n(31),K=n.n(H),G=n(45),Y=n(348),J=n(124),$=n.n(J),Q=n(171),Z=n.n(Q),ee=function(){var e=Object(i.b)(),t=X.a.useForm(),n=Object(v.a)(t,1)[0],r=function(){var t=Object(G.a)(K.a.mark((function t(n){return K.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=3,e(Object(u.n)(n));case 3:return t.next=5,e(Object(u.c)("confirm"));case 5:e(Object(u.m)("confirm"));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),a=function(){var t=Object(G.a)(K.a.mark((function t(){return K.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.resetFields(),t.next=3,e(Object(u.b)("confirm"));case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(_.jsxs)(X.a,{labelCol:{span:4},wrapperCol:{span:16},form:n,name:"credit-card",onFinish:r,children:[Object(_.jsx)(R,{className:L.a._title,text:"Add payment details.",element:"h4",size:"md",style:{margin:"10px 0 20px 20px"}}),Object(_.jsx)(X.a.Item,{name:"pan",label:"Card Number",rules:[{required:!0,message:"Card Number is required!"},{len:19,message:"Card have to contain 16 symbols."}],children:Object(_.jsx)($.a,{className:"ant-input",placeholder:"XXXX XXXX XXXX XXXX",options:{creditCard:!0},onChange:function(e){}})}),Object(_.jsx)(X.a.Item,{name:"exp",label:"Expiry date",rules:[{required:!0,message:"Expitaion deta is required!"}],children:Object(_.jsx)($.a,{className:"ant-input",placeholder:"MM / YY",options:{date:!0,dateMin:Z()().format("YY-MM"),delimiter:" / ",datePattern:["m","y"]},onChange:function(e){}})}),Object(_.jsx)(X.a.Item,{name:"cvv",label:"CVV",rules:[{required:!0,message:"CVV is required!"},{pattern:new RegExp(/\d{3,4}/g),message:"Value is not valid CVV!"},{max:4,message:"CVV can not be longer than 4 chars!"},{min:3,message:"CVV can not be less than 3 chars!"}],children:Object(_.jsx)(Y.a,{placeholder:"XXX",type:"number"})}),Object(_.jsxs)(X.a.Item,{wrapperCol:{offset:8,span:16},children:[Object(_.jsx)(z.a,{type:"primary",htmlType:"submit",size:"large",style:{marginRight:"20px"},children:"Submit"}),Object(_.jsx)(z.a,{htmlType:"button",onClick:a,size:"large",children:"Reset"})]})]})},te=function(){var e=Object(i.b)(),t=Object(i.c)(u.i),n=Object(i.c)(u.f),r=function(){var r=Object(G.a)(K.a.mark((function r(a){return K.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=3,e(Object(u.p)(a.email));case 3:e(Object(u.s)(Object(w.a)(Object(w.a)(Object(w.a)({},t),n),{},{email:a.email})));case 4:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}();return Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(g,{}),Object(_.jsx)(X.a,{layout:"vertical",onFinish:r,children:Object(_.jsx)(X.a.Item,{label:"Email",name:"email",rules:[{type:"email",message:"Email format is not correct!"},{required:!0,message:"Email is required!"}],children:Object(_.jsx)(X.a.Item,{children:Object(_.jsxs)(Y.a.Group,{compact:!0,style:{display:"flex"},children:[Object(_.jsx)(Y.a,{}),Object(_.jsx)(z.a,{type:"primary",htmlType:"submit",style:{height:"50px"},children:"Submit"})]})})})})]})},ne=[{tab:Object(_.jsx)(R,{text:"Select subscription parameters",element:"span",size:"sm",style:{lineHeight:1,margin:0}}),key:"parameters",content:Object(_.jsx)(W,{})},{tab:Object(_.jsx)(R,{text:"Payment data",element:"span",size:"sm",style:{lineHeight:1,margin:0}}),key:"creditcard",content:Object(_.jsx)(ee,{})},{tab:Object(_.jsx)(R,{text:"Confirmation",element:"span",size:"sm",style:{lineHeight:1,margin:0}}),key:"confirm",content:Object(_.jsx)(te,{})}],re=function(){var e=Object(i.b)(),t=Object(r.useState)("top"),n=Object(v.a)(t,2),a=n[0],c=n[1],s=Object(i.c)(u.h),o=Object(i.c)(u.e);return Object(r.useEffect)((function(){function e(){"left"!==a&&window.innerWidth>996&&c("left"),"top"!==a&&window.innerWidth<=996&&c("top")}return window.addEventListener("resize",e),document.removeEventListener("resize",e)}),[a]),Object(_.jsx)(E.a,{tabPosition:a,activeKey:o,onChange:function(t){e(Object(u.m)(t))},children:ne.map((function(e,t){return Object(_.jsx)(E.a.TabPane,{tab:e.tab,disabled:!s.includes(e.key),children:e.content},e.key||t)}))})},ae=function(){var e=Object(i.b)();return Object(r.useEffect)((function(){e(Object(u.d)())})),Object(_.jsx)(re,{})},ce=function(){return Object(_.jsx)(d.a,{basename:"/moberries",children:Object(_.jsx)(C,{children:Object(_.jsx)(b.c,{children:Object(_.jsx)(b.a,{path:"/",component:ae})})})})},se=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,351)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),r(e),a(e),c(e),s(e)}))};n(339),n(340),n(341),n(342),n(343);s.a.render(Object(_.jsx)(a.a.StrictMode,{children:Object(_.jsx)(i.a,{store:l,children:Object(_.jsx)(ce,{})})}),document.getElementById("root")),se()},50:function(e,t,n){e.exports={_volume:"payment__volume__2gOR0","_volume--selected":"payment__volume--selected__2QzyF",_title:"payment__title__2quBx",_volume__value:"payment__volume__value__lkR4x",_root:"payment__root__2zxyq",_radio:"payment__radio__nSxbe"}},55:function(e,t,n){e.exports={_container:"total__container__2GmMQ",_text:"total__text__FW6mD",_text__value:"total__text__value__2mc2q"}},75:function(e,t,n){e.exports={_root:"header__root__1IKDZ",_container:"header__container__2CPbD",_root__logo:"header__root__logo__1K937",_root__logo__img:"header__root__logo__img__1ooya",_root__company:"header__root__company__nWANV"}}},[[345,1,2]]]);
//# sourceMappingURL=main.387a8205.chunk.js.map